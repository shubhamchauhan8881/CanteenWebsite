<!DOCTYPE html> 
<html lang="en"> 

<head> 
	<meta charset="UTF-8"> 
	<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
	<title>Live Calculator</title> 
</head> 

<body> 
	<textarea name="ta" id="results" cols="30" rows="10"> 

	</textarea><br> 
	Enter the expression: <input type="text" id="exp"> 
	<input type="button" id="submit" value="Get Results"> 
	<script> 
	function getCookie(name) {
    let cookieValue = null;
    if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            // Does this cookie string begin with the name we want?
            if (cookie.substring(0, name.length + 1) === (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}

	console.log(Cookies.get('user'));
	console.log("hello");

		const socket = new WebSocket('ws://localhost:8000/ws/notification/'); 
		socket.onmessage = (e) => { 
			result = JSON.parse(e.data);
			document.getElementById("results").value += "Server: " + result.message + "\n"; 
		} 

		socket.onclose = (e) => { 
			console.log("Socket closed!"); 
		} 
        
	</script> 
</body> 
<script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script>
</html>
