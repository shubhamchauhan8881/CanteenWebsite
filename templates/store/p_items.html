{% load static %}
<div class="my-5">
    <div class="flex items-center justify-between border-b-[0.5px] border-b-Canteen mb-2">
        <p class="Cookie text-3xl">{{ category.name }}</p>
    </div>
    {% for product in products %}
    {% if product.product_ctgry.name == category.name %}
    <div class="dish_container relative">
        {% if product.shop.is_open == False %}
        <div class="absolute top-0 left-0 right-0 bottom-0 z-10 bg-slate-300/40 flex items-center justify-center">
            <p class="text-rose-600 font-semibold"> {{product.shop}} is on a break.</p>
        </div>
        {% endif %} 
    
        <div class="dishes bg-Canteen/10 rounded-md mb-3">
            <div class="flex">
                <div class="p-2 grow">
                    <p class="pname teachers text-xl">{{product.name}}</p>
                    <p class="pprice font-medium py-1">Rs. {{product.price}}/-</p>
                    <p class="text-sm">{{product.description}}</p>
                    
                    <p class="text-xs opacity-80">by: {{product.shop}}</p>
                </div>

                <div class="relative">
                    <div class="h-28 w-32 overflow-hidden rounded-xl">
                        <img src="{{ product.image.url }}" alt="get net" class="h-full w-full object-fit">
                    </div>

                    <div class="cart_buttons absolute bottom-0 left-0 right-0">
                        <div class="available bg-Canteen text-white rounded-b-xl text-sm overflow-hidden">
                            {% if product.availibility %}
                            <button class="w-full py-1" id="AddToCartButton" value="{{product.id}}">Add to Cart</button>
                            {% else %}
                            <button class="w-full py-1 bg-rose-600">Not Available</button>
                            {% endif %}

                            <div class="hidden">
                                <div class="flex items-center">
                                    <button type="button" value="{{product.id}}" id="cart-minus-btn" class="px-4 text-md py-1">-</button>
                                    <p class="grow text-center bg-white text-black py-1" id="qtty{{product.id}}">1</p>
                                    <button type="button" value="{{product.id}}" id="cart-plus-btn" class=" px-4 text-md py-1">+</button>
                                </div>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    {% endif %}
    {% endfor %}

</div>
